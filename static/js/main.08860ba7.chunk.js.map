{"version":3,"sources":["components/Chart/Chart.tsx","App.tsx","index.tsx"],"names":["initialData","name","time","Chart","useState","visibleData","setVisibleData","allTime","useMemo","reduce","sum","current","toFixed","useEffect","getVisibleDate","map","item","width","index","shift","slice","handleClick","randomData","Math","random","timeout","setTimeout","clearTimeout","className","style","backgroundColor","textAlign","marginLeft","type","onClick","App","ReactDOM","render","document","getElementById"],"mappings":"gSAGMA,EAAsB,CAC1B,CAAEC,KAAM,eAAgBC,KAAM,KAC9B,CAAED,KAAM,eAAgBC,KAAM,IAC9B,CAAED,KAAM,YAAaC,KAAM,GAC3B,CAAED,KAAM,OAAQC,KAAM,MAGXC,EAAkB,WAC7B,MAAsCC,mBAASJ,GAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KAEMC,EAAUC,mBAAQ,WACtB,OAAQH,EAAYI,QAAO,SAACC,EAAKC,GAAN,OAAkBD,EAAMC,EAAQT,OAAM,GAAGU,QAAQ,KAC3E,CAACP,IAEJQ,qBAAU,WACR,IAAIC,EAAiBT,EAAYU,KAAI,SAAAC,GACnC,OAAO,2BACFA,GADL,IAEEC,QAAsB,IAAZD,EAAKd,KAAcK,GAASK,QAAQ,QAIlDE,EAAiBA,EAAeC,KAAI,SAACC,EAAME,GACzC,OAAO,2BACFF,GADL,IAEEG,MAAOL,EAAeM,MAAM,EAAGF,GAC5BT,QAAO,SAACC,EAAKC,GAAN,OAAkBD,EAAMC,EAAQM,QAAO,GAAGL,QAAQ,QAIhEN,EAAeQ,KACd,CAACP,IAEJ,IAAMc,EAAc,WAClB,IAAMC,EAAajB,EAAYU,KAAI,SAAAC,GACjC,OAAO,2BACFA,GADL,IAEEd,OAAwB,GAAhBqB,KAAKC,UAAeZ,QAAQ,QAIxCN,EAAegB,IAajB,OAVAT,qBAAU,WACR,IAAMY,EAAUC,YAAW,WACzBL,MACC,KAEH,OAAO,WACLM,aAAaF,OAKf,sBAAKG,UAAU,QAAf,UACE,oBAAIA,UAAU,eAAd,kCACA,oBAAIA,UAAU,cAAd,SACGvB,EAAYU,KAAI,SAAAC,GAAI,OACnB,oBAAoBY,UAAU,cAA9B,SACE,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,cAAf,SAA8BZ,EAAKf,OACnC,qBAAK2B,UAAU,cAAf,SACE,qBACEA,UAAU,mBACVC,MAAO,CACLC,gBAAiB,UACjBb,MAAM,GAAD,OAAKD,EAAKC,MAAV,KACLc,UAAW,SACXC,WAAW,GAAD,OAAKhB,EAAKG,MAAV,MANd,SASGH,EAAKd,aAbLc,EAAKf,WAoBlB,qBAAK2B,UAAU,gBAAf,SACE,wBACEK,KAAK,SACLL,UAAU,uBACVM,QAASb,EAHX,0BC/EKc,EAAgB,WAC3B,OACE,qBAAKP,UAAU,MAAf,SACE,cAAC,EAAD,OCFNQ,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.08860ba7.chunk.js","sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\nimport './Chart.scss';\n\nconst initialData: Data[] = [\n  { name: 'Landing Page', time: 7.4 },\n  { name: 'Configurator', time: 0.2 },\n  { name: 'Check-out', time: 7.0 },\n  { name: 'Deal', time: 3.8 },\n];\n\nexport const Chart: React.FC = () => {\n  const [visibleData, setVisibleData] = useState(initialData);\n\n  const allTime = useMemo(() => {\n    return +visibleData.reduce((sum, current) => sum + current.time, 0).toFixed(2);\n  }, [visibleData]);\n\n  useEffect(() => {\n    let getVisibleDate = visibleData.map(item => {\n      return {\n        ...item,\n        width: +((item.time * 100) / allTime).toFixed(2),\n      };\n    });\n\n    getVisibleDate = getVisibleDate.map((item, index) => {\n      return {\n        ...item,\n        shift: getVisibleDate.slice(0, index)\n          .reduce((sum, current) => sum + current.width, 0).toFixed(2),\n      };\n    });\n\n    setVisibleData(getVisibleDate);\n  }, [allTime]);\n\n  const handleClick = () => {\n    const randomData = visibleData.map(item => {\n      return {\n        ...item,\n        time: +(Math.random() * 10).toFixed(1),\n      };\n    });\n\n    setVisibleData(randomData);\n  };\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      handleClick();\n    }, 30000);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  });\n\n  return (\n    <div className=\"chart\">\n      <h1 className=\"chart__title\">Spent time (seconds)</h1>\n      <ul className=\"chart__list\">\n        {visibleData.map(item => (\n          <li key={item.name} className=\"chart__item\">\n            <div className=\"chart__data\">\n              <div className=\"chart__name\">{item.name}</div>\n              <div className=\"chart__time\">\n                <div\n                  className=\"chart__time-item\"\n                  style={{\n                    backgroundColor: '#f096a2',\n                    width: `${item.width}%`,\n                    textAlign: 'center',\n                    marginLeft: `${item.shift}%`,\n                  }}\n                >\n                  {item.time}\n                </div>\n              </div>\n            </div>\n          </li>\n        ))}\n      </ul>\n      <div className=\"chart__button\">\n        <button\n          type=\"button\"\n          className=\"chart__button-random\"\n          onClick={handleClick}\n        >\n          Random\n        </button>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport './App.scss';\nimport { Chart } from './components/Chart';\n\nexport const App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <Chart />\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}